PS D:\作业\编译原理\T202510358205721-859-main> wsl
wsl: 检测到 localhost 代理配置，但未镜像到 WSL。NAT 模式下的 WSL 不支持 localhost 代理。
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ g++ -g tests/test1.cpp -o test
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ ./test functional
依赖库编译失败:
cc1: fatal error: ./lib/sylib.c: No such file or directory
compilation terminated.
cc1plus: fatal error: ./lib/sylib.c: No such file or directory
compilation terminated.
ar: ./build/sylib.o: No such file or directory
ar: ./build/sylib++.o: No such file or directory
rm: cannot remove './build/sylib.o': No such file or directory
rm: cannot remove './build/sylib++.o': No such file or directory

lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ source tests/compileLib.sh
aarch64-linux-gnu-gcc: warning: ./lib/sylib.c1: linker input file unused because linking not done
aarch64-linux-gnu-g++: warning: ./lib/sylib.c1: linker input file unused because linking not done
ar: ./build/sylib.o: No such file or directory
ar: ./build/sylib++.o: No such file or directory
rm: cannot remove './build/sylib.o': No such file or directory
rm: cannot remove './build/sylib++.o': No such file or directory
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ source tests/compileLib.sh
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ ./test functional
checking tests/functional/gameoflife-gosper.sy
checking tests/functional/gameoflife-oscillator.sy
checking tests/functional/gameoflife-p61glidergun.sy
tests/functional/gameoflife-gosper.sy OK 0H-0M-5S-908005us
tests/functional/gameoflife-oscillator.sy OK 0H-0M-5S-343832us
tests/functional/gameoflife-p61glidergun.sy OK 0H-0M-5S-117752us
 [ best 0H-0M-0S-0us] / 300H-0M-0S-0us
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ ./test functional passesTest.sh
checking tests/functional/gameoflife-gosper.sy
checking tests/functional/gameoflife-oscillator.sy
checking tests/functional/gameoflife-p61glidergun.sy
tests/functional/gameoflife-gosper.sy 编译失败
./tests/passesTest.sh: 7: ./build/compiler: not found
llc: error: llc: ./build/custom/functional/gameoflife-gosper.out.ll: error: Could not open input file: No such file or directory
Assembler messages:
Error: can't open ./build/custom/functional/gameoflife-gosper.out.s for reading: No such file or directory

tests/functional/gameoflife-oscillator.sy 编译失败
./tests/passesTest.sh: 7: ./build/compiler: not found
llc: error: llc: ./build/custom/functional/gameoflife-oscillator.out.ll: error: Could not open input file: No such file or directory
Assembler messages:
Error: can't open ./build/custom/functional/gameoflife-oscillator.out.s for reading: No such file or directory

tests/functional/gameoflife-p61glidergun.sy 编译失败
./tests/passesTest.sh: 7: ./build/compiler: not found
llc: error: llc: ./build/custom/functional/gameoflife-p61glidergun.out.ll: error: Could not open input file: No such file or directory
Assembler messages:
Error: can't open ./build/custom/functional/gameoflife-p61glidergun.out.s for reading: No such file or directory

 [ best 0H-0M-0S-0us] / 0H-0M-0S-0us
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ cmake --build build --target compiler
Error: could not load cache
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ cd build
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main/build$ cmake ..
-- The C compiler identification is GNU 13.3.0
-- The CXX compiler identification is GNU 13.3.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Configuring done (3.2s)
-- Generating done (0.4s)
-- Build files have been written to: /mnt/d/作业/编译原理/T202510358205721-859-main/build
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main/build$ cd ..
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ cmake --build build --target compiler
# 应该用这个
 **cmake --build build --target compiler -j$(nproc)**
[  1%] Building CXX object CMakeFiles/antlr_sysy.dir/antlr/SysYBaseListener.cpp.o
[  2%] Building CXX object CMakeFiles/antlr_sysy.dir/antlr/SysYBaseVisitor.cpp.o
[  4%] Building CXX object CMakeFiles/antlr_sysy.dir/antlr/SysYLexer.cpp.o
[  5%] Building CXX object CMakeFiles/antlr_sysy.dir/antlr/SysYListener.cpp.o
[  6%] Building CXX object CMakeFiles/antlr_sysy.dir/antlr/SysYParser.cpp.o
[  8%] Building CXX object CMakeFiles/antlr_sysy.dir/antlr/SysYVisitor.cpp.o
[  9%] Linking CXX shared library libantlr_sysy.so
[  9%] Built target antlr_sysy
[ 10%] Building CXX object CMakeFiles/compiler.dir/src/compiler.cpp.o
[ 12%] Building CXX object CMakeFiles/compiler.dir/src/util/CodeString.cpp.o
[ 13%] Building CXX object CMakeFiles/compiler.dir/src/util/Color.cpp.o
[ 14%] Building CXX object CMakeFiles/compiler.dir/src/util/Config.cpp.o
[ 16%] Building CXX object CMakeFiles/compiler.dir/src/util/DynamicBitset.cpp.o
[ 17%] Building CXX object CMakeFiles/compiler.dir/src/util/System.cpp.o
[ 18%] Building CXX object CMakeFiles/compiler.dir/src/util/Tensor.cpp.o
[ 20%] Building CXX object CMakeFiles/compiler.dir/src/util/Type.cpp.o
[ 21%] Building CXX object CMakeFiles/compiler.dir/src/ast/Antlr2Ast.cpp.o
[ 22%] Building CXX object CMakeFiles/compiler.dir/src/ast/Ast.cpp.o
[ 24%] Building CXX object CMakeFiles/compiler.dir/src/ast/EmptyAntlrVisitor.cpp.o
[ 25%] Building CXX object CMakeFiles/compiler.dir/src/ir/AST2IR.cpp.o
[ 27%] Building CXX object CMakeFiles/compiler.dir/src/ir/BasicBlock.cpp.o
[ 28%] Building CXX object CMakeFiles/compiler.dir/src/ir/Constant.cpp.o
[ 29%] Building CXX object CMakeFiles/compiler.dir/src/ir/Function.cpp.o
[ 31%] Building CXX object CMakeFiles/compiler.dir/src/ir/GlobalVariable.cpp.o
[ 32%] Building CXX object CMakeFiles/compiler.dir/src/ir/IRPrinter.cpp.o
[ 33%] Building CXX object CMakeFiles/compiler.dir/src/ir/Instruction.cpp.o
[ 35%] Building CXX object CMakeFiles/compiler.dir/src/ir/InstructionList.cpp.o
[ 36%] Building CXX object CMakeFiles/compiler.dir/src/ir/Module.cpp.o
[ 37%] Building CXX object CMakeFiles/compiler.dir/src/ir/Value.cpp.o
[ 39%] Building CXX object CMakeFiles/compiler.dir/src/codegen/ARM_codegen.cpp.o
[ 40%] Building CXX object CMakeFiles/compiler.dir/src/codegen/BlockLayout.cpp.o
[ 41%] Building CXX object CMakeFiles/compiler.dir/src/codegen/CleanCode.cpp.o
[ 43%] Building CXX object CMakeFiles/compiler.dir/src/codegen/CodeGen.cpp.o
[ 44%] Building CXX object CMakeFiles/compiler.dir/src/codegen/FrameOffset.cpp.o
[ 45%] Building CXX object CMakeFiles/compiler.dir/src/codegen/InterfereGraph.cpp.o
[ 47%] Building CXX object CMakeFiles/compiler.dir/src/codegen/LiveMessage.cpp.o
[ 48%] Building CXX object CMakeFiles/compiler.dir/src/codegen/LoadStoreEliminate.cpp.o
[ 50%] Building CXX object CMakeFiles/compiler.dir/src/codegen/MachineDominator.cpp.o
[ 51%] Building CXX object CMakeFiles/compiler.dir/src/codegen/MachineLoopDetection.cpp.o
[ 52%] Building CXX object CMakeFiles/compiler.dir/src/codegen/RegPrefill.cpp.o
[ 54%] Building CXX object CMakeFiles/compiler.dir/src/codegen/RegSpill.cpp.o
[ 55%] Building CXX object CMakeFiles/compiler.dir/src/codegen/RegisterAllocate.cpp.o
[ 56%] Building CXX object CMakeFiles/compiler.dir/src/codegen/RemoveEmptyBlocks.cpp.o
[ 58%] Building CXX object CMakeFiles/compiler.dir/src/codegen/ReturnMerge.cpp.o
[ 59%] Building CXX object CMakeFiles/compiler.dir/src/passes/Arithmetic.cpp.o
[ 60%] Building CXX object CMakeFiles/compiler.dir/src/passes/ConstGlobalEliminate.cpp.o
[ 62%] Building CXX object CMakeFiles/compiler.dir/src/passes/DeadCode.cpp.o
[ 63%] Building CXX object CMakeFiles/compiler.dir/src/passes/Dominators.cpp.o
[ 64%] Building CXX object CMakeFiles/compiler.dir/src/passes/FuncInfo.cpp.o
[ 66%] Building CXX object CMakeFiles/compiler.dir/src/passes/GCM.cpp.o
[ 67%] Building CXX object CMakeFiles/compiler.dir/src/passes/GVN.cpp.o
[ 68%] Building CXX object CMakeFiles/compiler.dir/src/passes/GetElementSplit.cpp.o
[ 70%] Building CXX object CMakeFiles/compiler.dir/src/passes/GlobalArrayReverse.cpp.o
[ 71%] Building CXX object CMakeFiles/compiler.dir/src/passes/Inline.cpp.o
[ 72%] Building CXX object CMakeFiles/compiler.dir/src/passes/LCSSA.cpp.o
[ 74%] Building CXX object CMakeFiles/compiler.dir/src/passes/LICM.cpp.o
[ 75%] Building CXX object CMakeFiles/compiler.dir/src/passes/LocalConstGlobalMatching.cpp.o
[ 77%] Building CXX object CMakeFiles/compiler.dir/src/passes/LoopDetection.cpp.o
[ 78%] Building CXX object CMakeFiles/compiler.dir/src/passes/LoopRotate.cpp.o
[ 79%] Building CXX object CMakeFiles/compiler.dir/src/passes/LoopSimplify.cpp.o
[ 81%] Building CXX object CMakeFiles/compiler.dir/src/passes/Mem2Reg.cpp.o
[ 82%] Building CXX object CMakeFiles/compiler.dir/src/passes/PhiEliminate.cpp.o
[ 83%] Building CXX object CMakeFiles/compiler.dir/src/passes/Print.cpp.o
[ 85%] Building CXX object CMakeFiles/compiler.dir/src/passes/SCCP.cpp.o
[ 86%] Building CXX object CMakeFiles/compiler.dir/src/passes/SignalSpread.cpp.o
[ 87%] Building CXX object CMakeFiles/compiler.dir/src/machineir/CmpCombine.cpp.o
[ 89%] Building CXX object CMakeFiles/compiler.dir/src/machineir/CriticalEdgeRemove.cpp.o
[ 90%] Building CXX object CMakeFiles/compiler.dir/src/machineir/IR2MIR.cpp.o
[ 91%] Building CXX object CMakeFiles/compiler.dir/src/machineir/InstructionSelect.cpp.o
[ 93%] Building CXX object CMakeFiles/compiler.dir/src/machineir/MachineBasicBlock.cpp.o
[ 94%] Building CXX object CMakeFiles/compiler.dir/src/machineir/MachineFunction.cpp.o
[ 95%] Building CXX object CMakeFiles/compiler.dir/src/machineir/MachineInstruction.cpp.o
[ 97%] Building CXX object CMakeFiles/compiler.dir/src/machineir/MachineModule.cpp.o
[ 98%] Building CXX object CMakeFiles/compiler.dir/src/machineir/MachineOperand.cpp.o
[100%] Linking CXX executable compiler
[100%] Built target compiler
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$ ./test functional passesTest.sh
checking tests/functional/gameoflife-gosper.sy
checking tests/functional/gameoflife-oscillator.sy
checking tests/functional/gameoflife-p61glidergun.sy
tests/functional/gameoflife-gosper.sy OK 0H-0M-5S-781982us [ gcc 0H-0M-5S-908005us ]
tests/functional/gameoflife-oscillator.sy OK 0H-0M-5S-182628us [ gcc 0H-0M-5S-343832us ]
tests/functional/gameoflife-p61glidergun.sy OK 0H-0M-4S-943288us [ gcc 0H-0M-5S-117752us ]
 [ best 0H-0M-15S-907898us] / 300H-0M-0S-0us
lyz@LYZ:/mnt/d/作业/编译原理/T202510358205721-859-main$