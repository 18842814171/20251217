1. ä½¿ç”¨makefile-parallelç¼–è¯‘
2. è‹¥æµ‹è¯•ç¨‹åº.syæ–‡ä»¶æ”¾åœ¨æ ¹ç›®å½•ä¸‹ï¼Œåˆ‡æ¢åˆ°ç›®å½•tests,è¿è¡Œå…¶ä¸­çš„.shæ–‡ä»¶ï¼š./astTest.sh final.sy output

è¿™é‡Œoutputæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé™¤äº†ç”Ÿæˆæ­¤æ–‡ä»¶è¿˜ä¼šæœ‰ä¸€ä¸ªoutput.midæ–‡ä»¶

3. å¦‚æœæŠ¥é”™ï¼ŒæŸ¥çœ‹æ–‡ä»¶ç›®å½•æ˜¯å¦åŒ¹é…
4. è¿™æ˜¯ **Shellè„šæœ¬ä¸­çš„å˜é‡å¼•ç”¨**ï¼Œ`"$mid_file_s"` å’Œ `"$source_file"` éƒ½æ˜¯å˜é‡ã€‚

### ğŸ“š **è¯¦ç»†è§£é‡Š**

```bash
./build/compiler -S -o "$mid_file_s" "$source_file"
```

| éƒ¨åˆ† | å«ä¹‰ | ä¾‹å­ï¼ˆå‡è®¾å€¼ï¼‰ |
|------|------|----------------|
| `./build/compiler` | è¦æ‰§è¡Œçš„ç¨‹åºè·¯å¾„ | å½“å‰ç›®å½•ä¸‹çš„ `build/compiler` |
| `-S` | ç¼–è¯‘å™¨çš„é€‰é¡¹ | ç”Ÿæˆæ±‡ç¼–ä»£ç ï¼ˆé€šå¸¸ï¼‰ |
| `-o` | è¾“å‡ºæ–‡ä»¶é€‰é¡¹ | æŒ‡å®šè¾“å‡ºæ–‡ä»¶å |
| `"$mid_file_s"` | **å˜é‡å¼•ç”¨** | å¦‚æœ `mid_file_s="output.s"`ï¼Œåˆ™å±•å¼€ä¸º `-o output.s` |
| `"$source_file"` | **å˜é‡å¼•ç”¨** | å¦‚æœ `source_file="test.sy"`ï¼Œåˆ™å±•å¼€ä¸º `test.sy` |

### ğŸ”¤ **å˜é‡å®šä¹‰å’Œå¼•ç”¨**
åœ¨è„šæœ¬å¼€å¤´å®šä¹‰äº†è¿™äº›å˜é‡ï¼š
```bash
source_file="$1"          # $1 æ˜¯ç¬¬ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°
target_file="$2"          # $2 æ˜¯ç¬¬äºŒä¸ªå‘½ä»¤è¡Œå‚æ•°  
mid_file_s="${target_file}.s"  # åŸºäºtarget_fileæ„é€ çš„å˜é‡
```

### ğŸ“ **å…·ä½“ä¾‹å­**
å¦‚æœä½ è¿™æ ·è¿è¡Œè„šæœ¬ï¼š
```bash
./tests/codegenTest.sh test.sy my_output
```
é‚£ä¹ˆï¼š
- `$1` = `"test.sy"` â†’ `source_file="test.sy"`
- `$2` = `"my_output"` â†’ `target_file="my_output"`
- `mid_file_s="${target_file}.s"` = `"my_output.s"`

æ‰€ä»¥å‘½ä»¤å±•å¼€ä¸ºï¼š
```bash
../build/compiler -S -o "my_output.s" "test.sy"
```

### ğŸ” **`.` å’Œ `..` çš„åŒºåˆ«**
```bash
./build/compiler    # å½“å‰ç›®å½•ä¸‹çš„ build/compiler
../build/compiler   # ä¸Šçº§ç›®å½•ä¸‹çš„ build/compiler
```

- **`.`** = å½“å‰ç›®å½•
- **`..`** = ä¸Šçº§ç›®å½•

**å…³é”®**ï¼šè„šæœ¬åœ¨ `tests/` ç›®å½•ä¸­è¿è¡Œï¼Œä½† `compiler` åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰€ä»¥éœ€è¦ç”¨ `../build/compiler`ã€‚

### âœ… **æ­£ç¡®çš„è·¯å¾„**
ä½ çš„è„šæœ¬åº”è¯¥ç”¨ï¼š
```bash
# ä» tests/ ç›®å½•è¿è¡Œè„šæœ¬æ—¶
../build/compiler -S -o "$mid_file_s" "$source_file"

# ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œè„šæœ¬æ—¶  
./build/compiler -S -o "$mid_file_s" "$source_file"
```

### ğŸ› ï¸ **ä¿®æ­£å»ºè®®**
ç¡®ä¿è„šæœ¬ä¸­çš„è·¯å¾„æ­£ç¡®ï¼š
```bash
# åœ¨ tests/codegenTest.sh ä¸­åº”è¯¥ç”¨
../build/compiler    # å› ä¸ºè„šæœ¬åœ¨ tests/ ç›®å½•è¿è¡Œ

# æˆ–è€…åœ¨è„šæœ¬å¼€å¤´åˆ‡æ¢åˆ°æ­£ç¡®ç›®å½•
cd "$(dirname "$0")/.."  # åˆ‡æ¢åˆ°é¡¹ç›®æ ¹ç›®å½•
./build/compiler -S -o "$mid_file_s" "$source_file"
```

**è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¹‹å‰éœ€è¦ä¿®æ­£è·¯å¾„çš„åŸå› ï¼** è„šæœ¬ä¸­çš„è·¯å¾„å¿…é¡»åŒ¹é…å®é™…çš„æ–‡ä»¶ä½ç½®ã€‚